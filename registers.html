<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BANK OF LK - Online Registration</title>
    <style>
        :root { 
            --primary: #0f172a; /* Deep Navy */
            --accent: #3b82f6;  /* Bright Blue */
            --gold: #f59e0b;    /* Golden */
        }

        body { 
            font-family: 'Segoe UI', sans-serif; 
            background: #f1f5f9; 
            padding: 0; 
            margin: 0; 
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .form-container { 
            max-width: 500px; 
            margin: 40px auto; 
            background: white; 
            padding: 0 0 30px 0; 
            border-radius: 20px; 
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1); 
        }

        /* Banner Image Section */
        .header-banner {
            width: 100%;
            height: 180px;
            background: linear-gradient(rgba(15, 23, 42, 0.6), rgba(15, 23, 42, 0.6)), 
                        url('https://images.unsplash.com/photo-1541339907198-e08756dedff3?auto=format&fit=crop&q=80&w=1000');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
        }

        .header-banner h1 { margin: 0; font-size: 2.2rem; letter-spacing: 2px; }
        .header-banner span { color: var(--gold); }

        .form-content { padding: 25px; }
        
        h2 { color: var(--primary); text-align: center; margin-top: 0; font-size: 1.4rem; }
        
        label { font-weight: bold; font-size: 0.85rem; display: block; margin-top: 15px; color: #444; }
        
        input, textarea { 
            width: 100%; padding: 12px; margin: 5px 0; 
            border: 1px solid #cbd5e1; border-radius: 10px; 
            box-sizing: border-box; font-size: 1rem;
        }

        input:focus, textarea:focus {
            outline: none; border-color: var(--accent); box-shadow: 0 0 5px rgba(59, 130, 246, 0.3);
        }

        .photo-preview { 
            width: 120px; height: 120px; 
            border: 3px solid var(--gold); border-radius: 50%; 
            object-fit: cover; display: block; margin: 15px auto; 
            background: #f8fafc;
        }

        .btn-submit { 
            background: var(--primary); color: white; border: none; 
            padding: 15px; width: 100%; border-radius: 10px; 
            font-weight: bold; cursor: pointer; margin-top: 25px; 
            font-size: 1.1rem; transition: background 0.3s;
        }

        .btn-submit:hover { background: #1e293b; }

        footer {
            margin-top: auto;
            background: var(--primary);
            color: #94a3b8;
            text-align: center;
            padding: 20px;
            font-size: 0.8rem;
            border-top: 4px solid var(--gold);
        }
    </style>
</head>
<body>

<div class="form-container">
    <div class="header-banner">
        <h1>BANK OF <span>LK</span></h1>
    </div>

    <div class="form-content">
        <h2>üè¶ ‡∂±‡∑Ä ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä ‡∂Ö‡∂∫‡∂Ø‡∑î‡∂∏‡∑ä‡∂¥‡∂≠</h2>
        <p style="text-align:center; font-size:0.8rem; color:gray; margin-bottom: 20px;">‡∂©‡∑í‡∂¢‡∑í‡∂ß‡∂Ω‡∑ä ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∂ö‡∑ä ‡∑Ä‡∑í‡∑Ä‡∑ò‡∂≠ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∂¥‡∑Ñ‡∂≠ ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.</p>

        <label>‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂±‡∂∏ (Full Name):</label>
        <input type="text" id="app_name" placeholder="Ex: XXXXXXXXX ">

        <label>‡∂Ω‡∑í‡∂¥‡∑í‡∂±‡∂∫ (Address):</label>
        <textarea id="app_address" rows="3" placeholder="‡∂î‡∂∂‡∑ö ‡∂±‡∑í‡∑Ä‡∑É‡∑ö ‡∂Ω‡∑í‡∂¥‡∑í‡∂±‡∂∫"></textarea>

        <label>‡∂Ø‡∑î‡∂ª‡∂ö‡∂Æ‡∂± ‡∂Ö‡∂Ç‡∂ö‡∂∫ (Phone Number):</label>
        <input type="text" id="app_phone" placeholder="07x xxxxxxx">

        <label>‡∂î‡∂∂‡∑ö ‡∂°‡∑è‡∂∫‡∑è‡∂ª‡∑ñ‡∂¥‡∂∫ (Face Photo):</label>
        <input type="file" id="app_photo" accept="image/*" onchange="previewImage(event)">
        <img id="preview" class="photo-preview" src="https://via.placeholder.com/120?text=Profile">

        <button class="btn-submit" onclick="submitApplication()">‡∂Ö‡∂∫‡∂Ø‡∑î‡∂∏‡∑ä‡∂¥‡∂≠ ‡∂∫‡∑ú‡∂∏‡∑î ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</button>
    </div>
</div>

<footer>
    &copy; 2025 BANK OF LK Digital Banking Unit. <br>
    ‡∑É‡∑í‡∂∫‡∂Ω‡∑î‡∂∏ ‡∑Ñ‡∑í‡∂∏‡∑í‡∂ö‡∂∏‡∑ä ‡∂á‡∑Ä‡∑í‡∂ª‡∑í‡∂´‡∑í. ‡∂Ü‡∂ª‡∂ö‡∑ä‡∑Ç‡∑í‡∂≠ ‡∑É‡∑Ñ ‡∑Ä‡∑ö‡∂ú‡∑Ä‡∂≠‡∑ä ‡∂∂‡∑ê‡∂Ç‡∂ö‡∑î ‡∑É‡∑ö‡∑Ä‡∑è‡∑Ä.
</footer>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
    const firebaseConfig = {
        databaseURL: "https://frelance-work-default-rtdb.asia-southeast1.firebasedatabase.app"
    };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    let faceImageData = "";

    function previewImage(event) {
        const reader = new FileReader();
        reader.onload = () => { 
            document.getElementById('preview').src = reader.result;
            faceImageData = reader.result; 
        };
        reader.readAsDataURL(event.target.files[0]);
    }

    async function submitApplication() {
        const name = document.getElementById('app_name').value;
        const phone = document.getElementById('app_phone').value;
        const address = document.getElementById('app_address').value;

        if(!name || !faceImageData || !phone || !address) {
            alert("‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∑É‡∑í‡∂∫‡∂Ω‡∑î‡∂∏ ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∑É‡∑Ñ ‡∂°‡∑è‡∂∫‡∑è‡∂ª‡∑ñ‡∂¥‡∂∫‡∂ö‡∑ä ‡∂Ω‡∂∂‡∑è ‡∂Ø‡∑ô‡∂±‡∑ä‡∂±!");
            return;
        }

        const btn = document.querySelector('.btn-submit');
        btn.innerText = "‡∂∫‡∑ú‡∂∏‡∑î ‡∑Ä‡∑ô‡∂∏‡∑í‡∂±‡∑ä (Processing)...";
        btn.disabled = true;

        try {
            await database.ref('bank_applications').push({
                name: name,
                phone: phone,
                address: address,
                photo: faceImageData,
                status: "Pending",
                appliedAt: new Date().toLocaleString()
            });

            alert("‡∂Ö‡∂∫‡∂Ø‡∑î‡∂∏‡∑ä‡∂¥‡∂≠ ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä ‡∂∫‡∑ú‡∂∏‡∑î ‡∑Ä‡∑í‡∂∫! ‡∂∂‡∑ê‡∂Ç‡∂ö‡∑î ‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í‡∂∫ ‡∂∏‡∂ü‡∑í‡∂±‡∑ä ‡∂ë‡∂∫ ‡∂¥‡∂ª‡∑ì‡∂ö‡∑ä‡∑Ç‡∑è ‡∂ö‡∂ª‡∂±‡∑î ‡∂á‡∂≠.");
            location.reload();
        } catch (error) {
            alert("‡∂Ø‡∑ù‡∑Ç‡∂∫‡∂ö‡∑í: " + error.message);
            btn.innerText = "‡∂Ö‡∂∫‡∂Ø‡∑î‡∂∏‡∑ä‡∂¥‡∂≠ ‡∂∫‡∑ú‡∂∏‡∑î ‡∂ö‡∂ª‡∂±‡∑ä‡∂±";
            btn.disabled = false;
        }
    }
</script>
</body>
</html>
